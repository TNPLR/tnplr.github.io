import{_ as X}from"./Cc6JmfwR.js";import{i as Y,r as o,j as q,f as Z,g as h,o as k,c as U,a as t,b as E,w as ee,d as L,k as d,v as te,l,m as a,F as H,n as j,t as S,p as C,q as B}from"./DG-tSRKy.js";import{_ as ne,a as le,t as D,b as ue}from"./BObyeVuf.js";import{_ as oe}from"./DlAUqK2U.js";import"./CGjyGTaE.js";const ae={class:"topic"},se={class:"maingrid"},ie=["innerHTML"],re=["innerHTML"],de=["onUpdate:modelValue","id"],pe=["onClick"],ve=["onClick"],me=Y({__name:"questgen",setup(fe){function O(){navigator.clipboard.writeText(Q.value).then(()=>{G.value=!0})}function P(u){u==="Pass"&&(u="P"),i.value.push({name:u,explanation:m.value,alert:y.value}),m.value="",y.value=!1}function _(u){Object.keys(v.value).length===0&&(w.value=u),v.value[u]=m.value,m.value=""}function I(u){p.value?_(u):P(u)}function J(){i.value=[]}function R(){i.value.pop()}function $(){w.value===void 0&&(w.value="1C");let u={spades:b.value,hearts:c.value,diamonds:x.value,clubs:g.value,auction:i.value,answers:v.value,correct:w.value,board_num:f.value};N.value[M.value].push(u),T.value.push(u),p.value=!1,J(),v.value={},b.value="",c.value="",x.value="",g.value=""}function V(u){let e=0;for(let s=0;s<u.length;++s)switch(u[s]){case"A":e+=4;break;case"K":e+=3;break;case"Q":e+=2;break;case"J":e+=1;break}return e}function F(){let u=JSON.stringify(N.value,null,2),e="download.json",s=document.createElement("a");s.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(u)),s.setAttribute("download",e),s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s)}const p=o(!1),m=o(""),y=o(!1),f=o(1),i=o([]),w=o(),v=o({}),T=o([]),M=o("開叫"),N=o(ue),b=o(""),c=o(""),x=o(""),g=o(""),G=o(!1),Q=q(()=>JSON.stringify(T.value,null,2)),K=q(()=>V(b.value)+V(c.value)+V(x.value)+V(g.value)),z=q(()=>b.value.length+c.value.length+x.value.length+g.value.length),W=Z("title");return h(()=>{W.value="Quest生成器"}),(u,e)=>{const s=X;return k(),U(H,null,[t("header",null,[t("h1",ae,[E(s,{to:"/"},{default:ee(()=>e[13]||(e[13]=[L("QuestGen")])),_:1})]),e[14]||(e[14]=L(" 題庫：")),d(t("select",{id:"questlib","onUpdate:modelValue":e[0]||(e[0]=n=>a(M)?M.value=n:null)},[(k(!0),U(H,null,j(l(N),(n,r)=>(k(),U("option",null,S(r),1))),256))],512),[[te,l(M)]]),t("button",{onClick:F},"下載題目")]),t("div",se,[t("div",null,[e[15]||(e[15]=t("label",{for:"spades"},[t("span",{style:{color:"black"}},"♠")],-1)),d(t("input",{type:"text",id:"spades",name:"spades","onUpdate:modelValue":e[1]||(e[1]=n=>a(b)?b.value=n:null)},null,512),[[C,l(b)]])]),t("div",null,[e[16]||(e[16]=t("label",{for:"hearts"},[t("span",{style:{color:"tomato"}},"♥")],-1)),d(t("input",{type:"text",id:"hearts",name:"hearts","onUpdate:modelValue":e[2]||(e[2]=n=>a(c)?c.value=n:null)},null,512),[[C,l(c)]])]),t("div",null,[e[17]||(e[17]=t("label",{for:"diamonds"},[t("span",{style:{color:"orange"}},"♦")],-1)),d(t("input",{type:"text",id:"diamonds",name:"diamonds","onUpdate:modelValue":e[3]||(e[3]=n=>a(x)?x.value=n:null)},null,512),[[C,l(x)]])]),t("div",null,[e[18]||(e[18]=t("label",{for:"clubs"},[t("span",{style:{color:"DarkSlateGray"}},"♣")],-1)),d(t("input",{type:"text",id:"clubs",name:"clubs","onUpdate:modelValue":e[4]||(e[4]=n=>a(g)?g.value=n:null)},null,512),[[C,l(g)]])]),t("div",null,[e[19]||(e[19]=t("label",{for:"boardNum"},"牌號：",-1)),d(t("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>a(f)?f.value=n:null),type:"number",id:"boardNum",name:"boardNum",min:"1"},null,512),[[C,l(f)]])]),t("div",null,[d(t("input",{id:"auctionEnter",name:"answerMode",type:"radio","onUpdate:modelValue":e[6]||(e[6]=n=>a(p)?p.value=n:null),value:!1},null,512),[[B,l(p)]]),e[20]||(e[20]=t("label",{for:"auctionEnter"},"輸入叫序",-1)),d(t("input",{id:"answerEnter",name:"answerMode",type:"radio","onUpdate:modelValue":e[7]||(e[7]=n=>a(p)?p.value=n:null),value:!0},null,512),[[B,l(p)]]),e[21]||(e[21]=t("label",{for:"answerEnter"},"輸入答案與解釋",-1))]),t("button",{onClick:J},"清除全部叫序"),t("button",{onClick:R},"刪除最後叫品"),t("p",null,"HCP: "+S(l(K)),1),t("p",null,"總牌張數： "+S(l(z)),1),t("p",null,"總題數： "+S(l(T).length),1)]),E(ne,{"on-click":I,showAlert:"true",showInput:"true",inputText:l(m),"onUpdate:inputText":e[8]||(e[8]=n=>a(m)?m.value=n:null),alert:l(y),"onUpdate:alert":e[9]||(e[9]=n=>a(y)?y.value=n:null),auction:l(i),"onUpdate:auction":e[10]||(e[10]=n=>a(i)?i.value=n:null)},null,8,["inputText","alert","auction"]),E(le,{auction:l(i),"onUpdate:auction":e[11]||(e[11]=n=>a(i)?i.value=n:null),board_num:l(f),"onUpdate:board_num":e[12]||(e[12]=n=>a(f)?f.value=n:null)},null,8,["auction","board_num"]),t("h3",null,[e[22]||(e[22]=L("Answer: ")),t("span",{innerHTML:l(D)(l(w))},null,8,ie)]),(k(!0),U(H,null,j(l(v),(n,r)=>(k(),U("div",{class:"maingrid",key:r},[t("span",{innerHTML:l(D)(r.toString())},null,8,re),d(t("input",{type:"text","onUpdate:modelValue":A=>l(v)[r]=A,id:r.toString()},null,8,de),[[C,l(v)[r]]]),t("button",{onClick:A=>delete l(v)[r]},"Delete",8,pe),t("button",{onClick:A=>w.value=r.toString()},"Set as answer",8,ve)]))),128)),t("div",{class:"secondgrid"},[t("button",{onClick:$},"新增題目"),t("button",{onClick:O},"複製JSON")]),t("p",null,S(l(Q)),1)],64)}}}),Ce=oe(me,[["__scopeId","data-v-77e6b70e"]]);export{Ce as default};
