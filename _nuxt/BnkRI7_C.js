import{_ as $}from"./CeQIAUZu.js";import{r as a,i as T,f as K,g as z,c as N,a as n,b as S,w as W,j as d,v as g,k as l,l as o,m as E,t as C,d as H,F as q,n as X,o as _}from"./sT_H8ey1.js";import{_ as Y,a as Z,t as B}from"./3ghXOHU5.js";import{_ as h}from"./DlAUqK2U.js";import"./CGjyGTaE.js";const ee={class:"topic"},ne={class:"maingrid"},te=["innerHTML"],le=["innerHTML"],ue=["onUpdate:modelValue","id"],ae=["onClick"],oe=["onClick"],se={__name:"questgen",setup(ie){function D(){navigator.clipboard.writeText(A.value).then(()=>{F.value=!0})}function J(u){u==="Pass"&&(u="P"),s.value.push({name:u,explanation:p.value,alert:k.value}),p.value="",k.value=!1}function P(u){Object.keys(r.value).length===0&&(y.value=u),r.value[u]=p.value,p.value=""}function Q(u){i.value?P(u):J(u)}function L(){s.value=[]}function O(){s.value.pop()}function j(){let u={spades:m.value,hearts:f.value,diamonds:b.value,clubs:c.value,auction:s.value,answers:r.value,correct:y,board_num:v.value};V.value.push(u),i.value=!1,L(),r.value={},m.value="",f.value="",b.value="",c.value=""}function U(u){let e=0;for(let w=0;w<u.length;++w)switch(u[w]){case"A":e+=4;break;case"K":e+=3;break;case"Q":e+=2;break;case"J":e+=1;break}return e}const i=a(!1),p=a(""),k=a(!1),v=a(1),s=a([]),y=a(""),r=a({}),V=a([]),m=a(""),f=a(""),b=a(""),c=a(""),F=a(!1),A=T(()=>JSON.stringify(V.value,null,2)),G=T(()=>U(m.value)+U(f.value)+U(b.value)+U(c.value)),I=T(()=>m.value.length+f.value.length+b.value.length+c.value.length),R=K("title");return z(()=>{R.value="Quest生成器"}),(u,e)=>{const w=$;return _(),N(q,null,[n("header",null,[n("h1",ee,[S(w,{to:"/"},{default:W(()=>e[12]||(e[12]=[H("QuestGen")])),_:1})])]),n("div",ne,[n("div",null,[e[13]||(e[13]=n("label",{for:"spades"},[n("span",{style:{color:"black"}},"♠")],-1)),d(n("input",{type:"text",id:"spades",name:"spades","onUpdate:modelValue":e[0]||(e[0]=t=>o(m)?m.value=t:null)},null,512),[[g,l(m)]])]),n("div",null,[e[14]||(e[14]=n("label",{for:"hearts"},[n("span",{style:{color:"tomato"}},"♥")],-1)),d(n("input",{type:"text",id:"hearts",name:"hearts","onUpdate:modelValue":e[1]||(e[1]=t=>o(f)?f.value=t:null)},null,512),[[g,l(f)]])]),n("div",null,[e[15]||(e[15]=n("label",{for:"diamonds"},[n("span",{style:{color:"orange"}},"♦")],-1)),d(n("input",{type:"text",id:"diamonds",name:"diamonds","onUpdate:modelValue":e[2]||(e[2]=t=>o(b)?b.value=t:null)},null,512),[[g,l(b)]])]),n("div",null,[e[16]||(e[16]=n("label",{for:"clubs"},[n("span",{style:{color:"DarkSlateGray"}},"♣")],-1)),d(n("input",{type:"text",id:"clubs",name:"clubs","onUpdate:modelValue":e[3]||(e[3]=t=>o(c)?c.value=t:null)},null,512),[[g,l(c)]])]),n("div",null,[e[17]||(e[17]=n("label",{for:"boardNum"},"牌號：",-1)),d(n("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>o(v)?v.value=t:null),type:"number",id:"boardNum",name:"boardNum",min:"1"},null,512),[[g,l(v)]])]),n("div",null,[d(n("input",{id:"auctionEnter",name:"answerMode",type:"radio","onUpdate:modelValue":e[5]||(e[5]=t=>o(i)?i.value=t:null),value:!1},null,512),[[E,l(i)]]),e[18]||(e[18]=n("label",{for:"auctionEnter"},"輸入叫序",-1)),d(n("input",{id:"answerEnter",name:"answerMode",type:"radio","onUpdate:modelValue":e[6]||(e[6]=t=>o(i)?i.value=t:null),value:!0},null,512),[[E,l(i)]]),e[19]||(e[19]=n("label",{for:"answerEnter"},"輸入答案與解釋",-1))]),n("button",{onClick:L},"清除全部叫序"),n("button",{onClick:O},"刪除最後叫品"),n("p",null,"HCP: "+C(l(G)),1),n("p",null,"總牌張數： "+C(l(I)),1),n("p",null,"總題數： "+C(l(V).length),1)]),S(Y,{"on-click":Q,showAlert:"true",showInput:"true",inputText:l(p),"onUpdate:inputText":e[7]||(e[7]=t=>o(p)?p.value=t:null),alert:l(k),"onUpdate:alert":e[8]||(e[8]=t=>o(k)?k.value=t:null),auction:l(s),"onUpdate:auction":e[9]||(e[9]=t=>o(s)?s.value=t:null)},null,8,["inputText","alert","auction"]),S(Z,{auction:l(s),"onUpdate:auction":e[10]||(e[10]=t=>o(s)?s.value=t:null),board_num:l(v),"onUpdate:board_num":e[11]||(e[11]=t=>o(v)?v.value=t:null)},null,8,["auction","board_num"]),n("h3",null,[e[20]||(e[20]=H("Answer: ")),n("span",{innerHTML:l(B)(l(y))},null,8,te)]),(_(!0),N(q,null,X(l(r),(t,x)=>(_(),N("div",{class:"maingrid",key:x},[n("span",{innerHTML:l(B)(x)},null,8,le),d(n("input",{type:"text","onUpdate:modelValue":M=>l(r)[x]=M,id:x},null,8,ue),[[g,l(r)[x]]]),n("button",{onClick:M=>delete l(r)[x]},"Delete",8,ae),n("button",{onClick:M=>y.value=x},"Set as answer",8,oe)]))),128)),n("div",{class:"secondgrid"},[n("button",{onClick:j},"新增題目"),n("button",{onClick:D},"複製JSON")]),n("p",null,C(l(A)),1)],64)}}},fe=h(se,[["__scopeId","data-v-5f1c7c2b"]]);export{fe as default};
