import{_ as X}from"./BmIbNrbL.js";import{e as Y,r as o,j as A,g as Z,h,o as k,c as U,a as t,b as E,w as ee,d as L,k as r,v as te,l,m as s,F as H,n as j,t as S,p as C,q as B}from"./BpMxfN5A.js";import{_ as ne,a as le,t as D,b as ue}from"./JXow9dP8.js";import{_ as oe}from"./DlAUqK2U.js";import"./CGjyGTaE.js";const ae={class:"topic"},se={class:"maingrid"},ie=["innerHTML"],re=["innerHTML"],de=["onUpdate:modelValue","id"],pe=["onClick"],ve=["onClick"],me=Y({__name:"questgen",setup(fe){function O(){navigator.clipboard.writeText(Q.value).then(()=>{G.value=!0})}function P(u){u==="Pass"&&(u="P"),i.value.push({name:u,explanation:v.value,alert:y.value}),v.value="",y.value=!1}function _(u){Object.keys(p.value).length===0&&(w.value=u),p.value[u]=v.value,v.value=""}function I(u){d.value?_(u):P(u)}function J(){i.value=[]}function R(){i.value.pop()}function $(){var e;w.value===void 0&&(w.value="1C");let u={spades:f.value,hearts:b.value,diamonds:c.value,clubs:x.value,auction:i.value,answers:p.value,correct:w.value,board_num:m.value};(e=N.value.find(a=>a.name===M.value))==null||e.quests.push(u),T.value.push(u),d.value=!1,J(),p.value={},f.value="",b.value="",c.value="",x.value=""}function V(u){let e=0;for(let a=0;a<u.length;++a)switch(u[a]){case"A":e+=4;break;case"K":e+=3;break;case"Q":e+=2;break;case"J":e+=1;break}return e}function F(){let u=JSON.stringify(N.value,null,2),e="download.json",a=document.createElement("a");a.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(u)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}const d=o(!1),v=o(""),y=o(!1),m=o(1),i=o([]),w=o(),p=o({}),T=o([]),M=o("開叫"),N=o(ue),f=o(""),b=o(""),c=o(""),x=o(""),G=o(!1),Q=A(()=>JSON.stringify(T.value,null,2)),K=A(()=>V(f.value)+V(b.value)+V(c.value)+V(x.value)),z=A(()=>f.value.length+b.value.length+c.value.length+x.value.length),W=Z("title");return h(()=>{W.value="Quest生成器"}),(u,e)=>{const a=X;return k(),U(H,null,[t("header",null,[t("h1",ae,[E(a,{to:"/"},{default:ee(()=>e[13]||(e[13]=[L("QuestGen")])),_:1})]),e[14]||(e[14]=L(" 題庫：")),r(t("select",{id:"questlib","onUpdate:modelValue":e[0]||(e[0]=n=>s(M)?M.value=n:null)},[(k(!0),U(H,null,j(l(N),n=>(k(),U("option",null,S(n.name),1))),256))],512),[[te,l(M)]]),t("button",{onClick:F},"下載題目")]),t("div",se,[t("div",null,[e[15]||(e[15]=t("label",{for:"spades"},[t("span",{style:{color:"black"}},"♠")],-1)),r(t("input",{type:"text",id:"spades",name:"spades","onUpdate:modelValue":e[1]||(e[1]=n=>s(f)?f.value=n:null)},null,512),[[C,l(f)]])]),t("div",null,[e[16]||(e[16]=t("label",{for:"hearts"},[t("span",{style:{color:"tomato"}},"♥")],-1)),r(t("input",{type:"text",id:"hearts",name:"hearts","onUpdate:modelValue":e[2]||(e[2]=n=>s(b)?b.value=n:null)},null,512),[[C,l(b)]])]),t("div",null,[e[17]||(e[17]=t("label",{for:"diamonds"},[t("span",{style:{color:"orange"}},"♦")],-1)),r(t("input",{type:"text",id:"diamonds",name:"diamonds","onUpdate:modelValue":e[3]||(e[3]=n=>s(c)?c.value=n:null)},null,512),[[C,l(c)]])]),t("div",null,[e[18]||(e[18]=t("label",{for:"clubs"},[t("span",{style:{color:"DarkSlateGray"}},"♣")],-1)),r(t("input",{type:"text",id:"clubs",name:"clubs","onUpdate:modelValue":e[4]||(e[4]=n=>s(x)?x.value=n:null)},null,512),[[C,l(x)]])]),t("div",null,[e[19]||(e[19]=t("label",{for:"boardNum"},"牌號：",-1)),r(t("input",{"onUpdate:modelValue":e[5]||(e[5]=n=>s(m)?m.value=n:null),type:"number",id:"boardNum",name:"boardNum",min:"1"},null,512),[[C,l(m)]])]),t("div",null,[r(t("input",{id:"auctionEnter",name:"answerMode",type:"radio","onUpdate:modelValue":e[6]||(e[6]=n=>s(d)?d.value=n:null),value:!1},null,512),[[B,l(d)]]),e[20]||(e[20]=t("label",{for:"auctionEnter"},"輸入叫序",-1)),r(t("input",{id:"answerEnter",name:"answerMode",type:"radio","onUpdate:modelValue":e[7]||(e[7]=n=>s(d)?d.value=n:null),value:!0},null,512),[[B,l(d)]]),e[21]||(e[21]=t("label",{for:"answerEnter"},"輸入答案與解釋",-1))]),t("button",{onClick:J},"清除全部叫序"),t("button",{onClick:R},"刪除最後叫品"),t("p",null,"HCP: "+S(l(K)),1),t("p",null,"總牌張數： "+S(l(z)),1),t("p",null,"總題數： "+S(l(T).length),1)]),E(ne,{"on-click":I,showAlert:"true",showInput:"true",inputText:l(v),"onUpdate:inputText":e[8]||(e[8]=n=>s(v)?v.value=n:null),alert:l(y),"onUpdate:alert":e[9]||(e[9]=n=>s(y)?y.value=n:null),auction:l(i),"onUpdate:auction":e[10]||(e[10]=n=>s(i)?i.value=n:null)},null,8,["inputText","alert","auction"]),E(le,{auction:l(i),"onUpdate:auction":e[11]||(e[11]=n=>s(i)?i.value=n:null),board_num:l(m),"onUpdate:board_num":e[12]||(e[12]=n=>s(m)?m.value=n:null)},null,8,["auction","board_num"]),t("h3",null,[e[22]||(e[22]=L("Answer: ")),t("span",{innerHTML:l(D)(l(w))},null,8,ie)]),(k(!0),U(H,null,j(l(p),(n,g)=>(k(),U("div",{class:"maingrid",key:g},[t("span",{innerHTML:l(D)(g.toString())},null,8,re),r(t("input",{type:"text","onUpdate:modelValue":q=>l(p)[g]=q,id:g.toString()},null,8,de),[[C,l(p)[g]]]),t("button",{onClick:q=>delete l(p)[g]},"Delete",8,pe),t("button",{onClick:q=>w.value=g.toString()},"Set as answer",8,ve)]))),128)),t("div",{class:"secondgrid"},[t("button",{onClick:$},"新增題目"),t("button",{onClick:O},"複製JSON")]),t("p",null,S(l(Q)),1)],64)}}}),Ce=oe(me,[["__scopeId","data-v-8639f857"]]);export{Ce as default};
